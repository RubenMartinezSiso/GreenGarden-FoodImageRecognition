# Green Garden | Food Image Recogniion üë®‚Äçüíª
NOTE: This implementation is included in a project carried out at VIA University College.

## Introduction ü•óüåæ
In recent years, the consumption of organic and ecological food products has gained popularity, leading to increased demand and availability. This trend is driven by consumers seeking natural
diets free from artificial additives and plastic packaging. Vegetarians and vegans are at the forefront of this movement and are the main consumers of organic products.

However, young people and students still face food and economic challenges, especially in the current pandemic. Many French students have reported skipping meals due to financial constraints and this has resulted in new inequalities among students. Additionally, the conflict between Russia and Ukraine has impacted the prices of cereals and fuels, leading to increased food costs. As a result, students are struggling to afford sufficient food.

Recognising the importance of addressing these challenges, a project has been initiated in Montpellier, France, to design and develop a shared urban garden. This garden will grow organic and ecological fruits and vegetables without the use of harmful chemicals. The products will be sold at affordable prices, specifically targeting individuals, including students, who face economic difficulties. Technological innovations, such as a mobile app, a website, and an easy payment process via image recognition, will enhance the accessibility and modernity of the project. By offering healthy and natural food at lower costs, the project aims to ease the food and economic crisis. It also emphasises the importance of ecological sustainability and environmental benefits.

The project group will focus on answering the main question: How to reduce the daily living costs for students in France and provide them with healthy food in a secure and sustainable way using innovation and technology?

This project's purpose is to design and develop a **common urban garden**. In it, different types of fruit and vegetables are grown organically and ecologically, without the use of herbicides, fertilisers, or phytosanitary products obtained through chemical synthesis. The products obtained in the garden are sold at an affordable price, designed for people with economic problems and who are looking to improve their food quality, e.g. for current students. It also features technological innovations such as an app, a website, and a quick and easy payment process via image recognition to be more attractive and modern.

This solution allows addressing the problem of the food and economic crisis together for part of the population. It promotes the sale of healthy and natural food by offering it at a low price, with an ecological and environmentally beneficial purpose.

## Image recognition technology implementation üçÖü•ë
Green Garden is a proposal that recalls invocation, the idea is to renovate the concept of a garden to make it more accessible, ecological and modern. It will take advantage of the technology available today to make the different processes involved in the garden more efficient and to speed up the most exhaustive tasks. In this case, the involvement of technology will focus on the process of registering and paying for the products chosen by the customer.

The customer has the possibility to make a shopping list from the garden app, purchase the products online and then pick up the order in person. Alternatively, the customer may not use the app and make the purchase of products by weighing them physically. Once the customer has collected the products they want from the garden, they will be weighed on a weighing scale to calculate their price. Each fruit or vegetable has an estimated price, for example, per kilo, so the exact price of the product is automatically calculated depending on its weight. At any time the customer can see on a digital display the list of weighed products and their assigned price. After the customer or a garden worker has weighed all his products, payment would be made by dataphone or cash.

To improve this process, the idea is for the scale to incorporate a camera at the top that captures the entire image of the scale base. This camera would be equipped with software able to recognise fruit and vegetables so that when the customer weighs the product, the camera would automatically indicate what type of product is being weighed and the price would be calculated accordingly. This would replace the process of manual calculation of the price of the product by an employee in the garden or the act of this employee or even the customer himself having to manually choose which vegetable or fruit is being weighed on a digital display or on a panel with buttons so that the scale calculates its price by weight.

## Objective üéØ
For the simulation of this process, the objective is to create a prototype of the software that would incorporate the camera of the scale, so that it would be able to recognise what type of vegetable or fruit is shown in an image. This is an artificial intelligence programme and is simply an imitation of how the camera would behave in a real situation to give an idea of how it would be incorporated into the process of weighing and paying for products.

## Advantages and possible disadvantages üóØ
The incorporation of this software in the garden brings with it several advantages:
- It increases the agility and speed with which the weighing process is carried out. It is estimated that the garden will receive many customers and sometimes queues or crowds of people can be generated in the area of weighing and payment of the products. Therefore, the more instantaneous the process, the better for both, the garden itself and customer satisfaction.
- How easily the weighing is executed. Determining the product being weighed manually can result in mistakes, especially on the part of the customer if it is the customer who has to choose the product. In this way, the possibility of error is reduced and it is not a difficult process for the customer to understand.
- Incorporate greater accessibility to the garden. This refers to the ability of any person, regardless of physical, cognitive or sensory abilities, to access and use the service autonomously and without barriers. Accessibility is important to ensure the inclusion of all people in society and to promote equal opportunities. If this technology is incorporated, the customer would not have to use a touch screen or a panel with buttons to select the
product and would avoid problems for anyone who cannot access it.
- Increase hygiene in the garden spaces. It is estimated that customers may have some dirt and impurities on their hands due to the fact that, after all, the project is carried out in an agricultural environment and people are constantly in contact with dirt, plants, dust... Although the use of gloves and disinfectant gel is allowed, absolute cleanliness cannot be guaranteed. Therefore, if the customer can be prevented from touching the garden technology, it is better for the quality of life of the technology. In addition, you avoid the risk of possible diseases being spread by contact.
- It gives modernity to the garden. As already mentioned, the idea is to implement novelties that improve processes and attract the attention of customers. With this technology, the establishment is given an atmosphere that is more up-to-date with today's society and increases the attraction of people.

A possible disadvantage is that, although the software would be able to recognise different types of fruit and vegetables in the same image, the products should be separated by type because each
has its own price per kilo assigned to it. Furthermore, the use of packaging, e.g. bags, should be avoided so that it does not cover the product and the camera can easily recognise the product. As an alternative, wooden or cardboard boxes can be used for weighing, and when the price is assigned, the product can be placed in a paper bag, for example. It should be noted that the use of plastic packaging should be avoided at all times so as not to generate waste and pollute the environment.

On the other hand, the process should have an alternative system in case the camera is not available due to a technical failure or is not able to recognise the product. In this case, the fruit or vegetable being weighed could be selected via a digital display.

## Alternative implementations üåü
This artificial intelligence will also be incorporated into the app so that the customer can take information about the product from there. Despite this, the main idea is to apply this software to the scales in the garden, but it could also be incorporated into other processes.

For example, the garden could have an electric treadmill system that takes the produce from the collection area where the product is planted to another area where it would be classified and the customer could collect the produce from there or the workers could prepare sealed containers with an exact weight. This would be available for customers who do not want to pick produce directly from the ground. This treadmill system could be equipped with cameras that recognise the fruit and vegetables and, depending on the type, change the direction of the treadmill to one box or another. In this way, all products would be collected in boxes and differentiated by type. Another alternative would be to use supermarket-style electric treadmills, where the customer positions the products on the treadmill, and the camera recognises the type of product and weighs it automatically. At the end of the treadmill, there is a platform where the products are left for future collection.

The garden could also include this technology to monitor the growth of the products. The camera would monitor the planted fruit and vegetables so that it detects when they are ripe and ready to be picked. It would also monitor the percentage of growth, the approximate time remaining for ripening and if there is a problem with the produce (spoiled, infected, etc.).

## Artificial intelligence development ‚öô
The development of the image recognition programme requires an exhaustive process to achieve an optimal result. The following is a simplified explanation of this process and the result obtained. This explanation does not contain in-depth details on programming and artificial intelligence. All technical and technology-related details are explained throughout the attached programming code document.

This program uses a named artificial intelligence model, which is a set of algorithms and rules designed to perform a specific task. The model is trained using a training data set to learn patterns and relationships in the data and then used to make predictions or decisions based on new or unknown data.

*Collect images and label them* üì∏
The model is going to be trained to recognise images of certain fruits and vegetables, so example images are needed for the model to learn from them. Specifically, images of avocados, potatoes, tomatoes, apples and bananas have been collected. These images have been taken directly with the computer camera manually. It is important to have a certain variety of image styles of the same product (different positions, lighting...), so the model will be prepared for different situations.

The process of tagging consists of applying a label to the images so that they have an assigned answer. By labelling the image, the model will know which product it is and can be trained with them. A library (external program) has been used to hand label all the collected images.

*Train the model* üèãÔ∏è‚Äç‚ôÄÔ∏è
The model must be trained with the labelled images so that it knows which answer to associate with each image. In other words, the model should learn that the answer it should give to the image of, for example, a potato, is precisely "Potato" because that is the label that has been assigned to the image. At the time of testing, when the model is shown an image of a potato, it will know that the answer it should give is "Potato". It should be noted that the image shown during testing will not be the same as the image shown during training, even though it is also a potato. Just by their similarity, it should predict which label is most likely to be assigned to the image.

This process can be imagined as that of preparing for an exam: the student learns which answer to give to each type of question, repeating the learning process several times to study it; at the time of the exam, the questions will be very similar to the ones he has studied and he can predict which is the most appropriate answer in each case. In this case, the model is the student, the questions are the images and the answers are the product name tags.

*Test the model* üìö
Once the model has been trained, the percentage of accuracy will be estimated by testing it with different images. It is shown a picture of a fruit or vegetable that it has not seen before and is asked which label the model thinks it belongs to and how confident it is of its decision. This prediction is compared with the actual answer to check whether or not they got it right.

The "loss" in artificial intelligence training refers to the amount of error in the model's prediction compared to the actual values. It is a measure of how well the model is learning based on its predictions. The goal in training a machine learning model is to minimise the loss value, which means that the model is making more accurate predictions.

*Detect objects* ü•îüçå
Finally, the model can be asked for a specific image to predict which product is being shown and its confidence level. The model is able to recognise different products in the same image or several of
the same type. It can also give several possible answers but the answer with the highest percentage should always be taken into account.

![image](https://github.com/RubenMartinezSiso/GreenGarden-FoodImageRecognition/assets/79216573/13ef9aad-2918-48a9-b912-eb16d9e9a182)

*Model errors* üõë
It is normal for the model to have errors in its predictions on some occasions. This is because the images are not of high quality and there are not a lot of them. One improvement that has been implemented is to add more images to the model and be much more different from each other. The training of the programme also depends on the number of times it has been trained and even on the power of the computer with which it has been developed. Therefore, despite the fact that changes have already been applied to improve the programme, there comes a point when, due to external factors, it is not possible to apply much more relevant improvements.

The most common error is that the label "Avocado" is wrongly assigned to many products, especially in images of apples or potatoes. This is most likely due to the fact that the avocado in the images with which the model has been trained has a very uncharacteristic colour and shape, the lighting is not suitable for this case. This is not the case for the banana, which is usually very easy to get the label right because of its very specific shape and yellow colour.

## Conclusion ‚ú®
Finally, a model capable of recognising and labelling selected fruits and vegetables has been obtained. Although the result is effective, the model can be wrong depending on the image it receives. However, other images are successfully detected and it works as expected. Therefore, optimal results have been obtained although they could be improved with more extensive modifications.

This program serves to demonstrate that it is possible to implement this type of software in real problems and that it is really useful for various projects. This gives an idea of how the software that would be implemented by the cameras on the scales would work and what impact it would have on the garden.

It really is an extremely complex process, the technology used is very delicate and requires a lot of tedious testing and a lot of computer power. Despite the time required, the software is functional enough to understand the concept.
